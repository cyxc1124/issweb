<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>详细信息</title>
<link rel="stylesheet" href="/static/css/bootstrap.css">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-163793624-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-163793624-2');
</script>
</head>
<body>
<nav class="navbar navbar-default">
  <div class="container">
    <div class="container-fluid"> 
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header"> <a class="navbar-brand" href="#">Cyxc</a> </div>
      
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li><a href="/">首页</a></li>
          <li><a href="/serverlist">服务器列表</a></li>
          <li><a href="#joinus" onClick="window.open('/joinus','targetWindow','resizable, height=600,width=600'); return false;">加入玩家群</a></li>
          <li><a href="/api">API</a></li>
        </ul>
      </div>
      <!-- /.navbar-collapse --> 
    </div>
    <!-- /.container-fluid --> 
  </div>
</nav>
{% if status == "Error" %}
<div class="col-md-12">
  <div class="panel panel-danger">
    <div class="panel-heading">
      <h3 class="panel-title">Failed</h3>
    </div>
    <div class="panel-body"> {{ error }} </div>
  </div>
</div>
{% endif %}
{% if status == "Success" or status == "InfoOnly" %}
<div class="container">
  <div class="col-md-6">
    <div class="panel panel-success">
      <div class="panel-heading">
        <h3 class="panel-title">基本信息</h3>
      </div>
      <div class="panel-body">
        <table class="table table-striped">
          <colgroup>
          <col class="col-xs-3">
          <col class="col-xs-9">
          </colgroup>
          <thead>
            <tr>
              <th>Property</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>服务器名字</td>
              <td>{{ info.server_name }}</td>
            </tr>
            <tr>
              <td>玩家数</td>
              <td>{{ info.player_count }}/{{ info.max_players }}</td>
            </tr>
            <tr>
              <td>地图</td>
              <td>{{ info.map_name }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% if status == "InfoOnly" %}
<div class="container">
  <div class="col-md-6">
    <div class="panel panel-danger">
      <div class="panel-heading">
        <h3 class="panel-title">Players</h3>
      </div>
      <div class="panel-body"> {{ error }} </div>
    </div>
  </div>
</div>
{% else %}
<div class="container">
  <div class="col-md-6">
    <div class="panel panel-success">
      <div class="panel-heading">
        <h3 class="panel-title">玩家列表</h3>
      </div>
      <div class="panel-body">
        <table class="table table-striped">
          <colgroup>
          <col class="col-xs-7">
          <col class="col-xs-2">
          <col class="col-xs-3">
          </colgroup>
          <thead>
            <tr>
              <th>玩家名字</th>
              <th>分数</th>
              <th>在线时间</th>
            </tr>
          </thead>
          <tbody>
          
          {% for player in players|selectattr("name")|sort(attribute="score", reverse=True) %}
          <tr>
            <td>{{ player.name }}</td>
            <td>{{ player.score }}</td>
            <td>{{ player.duration|duration }}</td>
          </tr>
          {% endfor %}
            </tbody>
          
        </table>
      </div>
    </div>
  </div>
</div>
{% endif %} {# status == "InfoOnly" #}
      {% endif %} {# status == "Success" or status == "InfoOnly" #}
      </div>
      <div>
  <footer>
          <p> <span style="color: #b9b9b9;"> Program developed by <a href="https://cyxc.club" target="_blank" style="color: #b9b9b9;">cyxc.</a><a href="http://www.beian.miit.gov.cn" target="_blank" style="color: #b9b9b9;">京ICP备19009481号-4</a> </span> </p>
        </footer>
</div>
</body>
</html>