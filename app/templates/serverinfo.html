<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>详细信息</title>
{% include 'include/head.html' %}
</head>
<body>
{% include 'include/nav.html' %}
{% if status == "Error" %}
<div class="col-md-12">
  <div class="panel panel-danger">
    <div class="panel-heading">
      <h3 class="panel-title">Failed</h3>
    </div>
    <div class="panel-body"> {{ error }} </div>
  </div>
</div>
{% endif %}
{% if status == "Success" or status == "InfoOnly" %}
<div class="container">
  <div class="col-md-6">
    <div class="panel panel-success">
      <div class="panel-heading">
        <h3 class="panel-title">基本信息</h3>
      </div>
      <div class="panel-body">
        <table class="table table-striped">
          <colgroup>
          <col class="col-xs-3">
          <col class="col-xs-9">
          </colgroup>
          <thead>
            <tr>
              <th>Property</th>
              <th>Value</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>服务器名字</td>
              <td>{{ info.server_name }}</td>
            </tr>
            <tr>
              <td>玩家数</td>
              <td>{{ info.player_count }}/{{ info.max_players }}</td>
            </tr>
            <tr>
              <td>地图</td>
              <td>{{ info.map_name }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% if status == "InfoOnly" %}
<div class="container">
  <div class="col-md-6">
    <div class="panel panel-danger">
      <div class="panel-heading">
        <h3 class="panel-title">Players</h3>
      </div>
      <div class="panel-body"> {{ error }} </div>
    </div>
  </div>
</div>
{% else %}
<div class="container">
  <div class="col-md-6">
    <div class="panel panel-success">
      <div class="panel-heading">
        <h3 class="panel-title">玩家列表</h3>
      </div>
      <div class="panel-body">
        <table class="table table-striped">
          <colgroup>
          <col class="col-xs-7">
          <col class="col-xs-2">
          <col class="col-xs-3">
          </colgroup>
          <thead>
            <tr>
              <th>玩家名字</th>
              <th>分数</th>
              <th>在线时间</th>
            </tr>
          </thead>
          <tbody>
          
          {% for player in players|selectattr("name")|sort(attribute="score", reverse=True) %}
          <tr>
            <td>{{ player.name }}</td>
            <td>{{ player.score }}</td>
            <td>{{ player.duration|duration }}</td>
          </tr>
          {% endfor %}
            </tbody>
          
        </table>
      </div>
    </div>
  </div>
</div>
{% endif %} {# status == "InfoOnly" #}
      {% endif %} {# status == "Success" or status == "InfoOnly" #}
      </div>
      {% include 'include/footer.html' %}
</body>
</html>